# AI Configuration Validation UI - Visual Guide

## 界面预览

### 1. 未配置状态 (Warning)

```
┌─────────────────────────────────────────────────────────────┐
│ ⚠  AI 未配置                                                │
│    请在 ChatbotChat 中选择一个 AI 助理，系统将自动同步配置。 │
└─────────────────────────────────────────────────────────────┘
```

**特征:**
- 黄色边框和背景
- 警告图标 (⚠)
- 提示用户选择助理

---

### 2. 配置正常状态 (Success)

```
┌─────────────────────────────────────────────────────────────┐
│ ✓  AI 配置正常                                              │
│    当前使用: OpenAI - gpt-4o                                │
│                                                             │
│    提供商: OpenAI                                           │
│    模型: gpt-4o                                             │
│    ✓ 支持视觉功能                                           │
│    最后同步: 2024-01-15 14:30:25                           │
│                                                             │
│    ┌─────────────────────────────────────────────────┐     │
│    │ 🤖  GPT-4 Assistant                             │     │
│    │     当前激活的助理                               │     │
│    └─────────────────────────────────────────────────┘     │
└─────────────────────────────────────────────────────────────┘
```

**特征:**
- 绿色边框和背景
- 成功图标 (✓)
- 显示详细配置信息
- 显示当前激活的助理

---

### 3. 连接错误状态 (Error)

```
┌─────────────────────────────────────────────────────────────┐
│ ✗  未连接到后端服务                                         │
│    无法连接到智能代理后端 (端口 3004)。                     │
│    请确保后端服务正在运行。                                 │
└─────────────────────────────────────────────────────────────┘
```

**特征:**
- 红色边框和背景
- 错误图标 (✗)
- 详细的错误描述

---

### 4. 同步中状态

```
┌─────────────────────────────────────────────────────────────┐
│ ↻  AI 未配置                                                │
│    请在 ChatbotChat 中选择一个 AI 助理，系统将自动同步配置。 │
│                                                             │
│    ↻ 正在同步配置...                                        │
└─────────────────────────────────────────────────────────────┘
```

**特征:**
- 蓝色旋转图标
- 同步进度提示

---

## 配置测试面板

### 测试按钮 (正常状态)

```
┌─────────────────────────────────────────────────────────────┐
│ 🧪 配置测试                              [ 测试配置 ]        │
└─────────────────────────────────────────────────────────────┘
```

### 测试中状态

```
┌─────────────────────────────────────────────────────────────┐
│ 🧪 配置测试                          [ ↻ 测试中... ]        │
└─────────────────────────────────────────────────────────────┘
```

### 测试成功

```
┌─────────────────────────────────────────────────────────────┐
│ 🧪 配置测试                              [ 测试配置 ]        │
│                                                             │
│ ┌─────────────────────────────────────────────────────┐     │
│ │ ✓ AI 配置测试成功！模型响应正常。                   │     │
│ └─────────────────────────────────────────────────────┘     │
└─────────────────────────────────────────────────────────────┘
```

### 测试失败

```
┌─────────────────────────────────────────────────────────────┐
│ 🧪 配置测试                              [ 测试配置 ]        │
│                                                             │
│ ┌─────────────────────────────────────────────────────┐     │
│ │ ✗ 测试失败: Connection timeout                      │     │
│ └─────────────────────────────────────────────────────┘     │
└─────────────────────────────────────────────────────────────┘
```

---

## 支持的 AI 提供商列表

### 折叠状态

```
┌─────────────────────────────────────────────────────────────┐
│ ℹ  支持的 AI 提供商                                         │
│                                                             │
│ ┌─────────────────────────────────────────────────────┐     │
│ │ OpenAI                                          ▼   │     │
│ │ 5 个模型可用                                        │     │
│ └─────────────────────────────────────────────────────┘     │
│                                                             │
│ ┌─────────────────────────────────────────────────────┐     │
│ │ Anthropic                                       ▼   │     │
│ │ 4 个模型可用                                        │     │
│ └─────────────────────────────────────────────────────┘     │
│                                                             │
│ ┌─────────────────────────────────────────────────────┐     │
│ │ Google                                          ▼   │     │
│ │ 3 个模型可用                                        │     │
│ └─────────────────────────────────────────────────────┘     │
│                                                             │
│ ┌─────────────────────────────────────────────────────┐     │
│ │ Ollama (Local)                                  ▼   │     │
│ │ 4 个模型可用                                        │     │
│ └─────────────────────────────────────────────────────┘     │
└─────────────────────────────────────────────────────────────┘
```

### 展开状态 (OpenAI)

```
┌─────────────────────────────────────────────────────────────┐
│ ℹ  支持的 AI 提供商                                         │
│                                                             │
│ ┌─────────────────────────────────────────────────────┐     │
│ │ OpenAI                                      ✓   ▲   │     │
│ │ 5 个模型可用                                        │     │
│ ├─────────────────────────────────────────────────────┤     │
│ │ API 密钥: 需要 (sk-...)                            │     │
│ │                                                     │     │
│ │ 可用模型:                                           │     │
│ │ ┌─────────────────────────────────────────────┐     │     │
│ │ │ GPT-4o                              ✓ 视觉  │     │     │
│ │ │ gpt-4o                                      │     │     │
│ │ └─────────────────────────────────────────────┘     │     │
│ │ ┌─────────────────────────────────────────────┐     │     │
│ │ │ GPT-4o Mini                         ✓ 视觉  │     │     │
│ │ │ gpt-4o-mini                                 │     │     │
│ │ └─────────────────────────────────────────────┘     │     │
│ │ ┌─────────────────────────────────────────────┐     │     │
│ │ │ GPT-4 Turbo                         ✓ 视觉  │     │     │
│ │ │ gpt-4-turbo                                 │     │     │
│ │ └─────────────────────────────────────────────┘     │     │
│ │ ┌─────────────────────────────────────────────┐     │     │
│ │ │ GPT-4                                       │     │     │
│ │ │ gpt-4                                       │     │     │
│ │ └─────────────────────────────────────────────┘     │     │
│ │ ┌─────────────────────────────────────────────┐     │     │
│ │ │ GPT-3.5 Turbo                               │     │     │
│ │ │ gpt-3.5-turbo                               │     │     │
│ │ └─────────────────────────────────────────────┘     │     │
│ └─────────────────────────────────────────────────────┘     │
└─────────────────────────────────────────────────────────────┘
```

---

## 颜色方案

### 浅色模式

| 元素 | 颜色 | 用途 |
|------|------|------|
| 成功背景 | `bg-green-50` | 配置正常状态 |
| 成功边框 | `border-green-200` | 配置正常状态 |
| 成功文本 | `text-green-600` | 成功消息 |
| 警告背景 | `bg-yellow-50` | 未配置状态 |
| 警告边框 | `border-yellow-200` | 未配置状态 |
| 警告文本 | `text-yellow-600` | 警告消息 |
| 错误背景 | `bg-red-50` | 错误状态 |
| 错误边框 | `border-red-200` | 错误状态 |
| 错误文本 | `text-red-600` | 错误消息 |
| 信息背景 | `bg-blue-50` | 当前激活 |
| 信息边框 | `border-blue-200` | 当前激活 |
| 信息文本 | `text-blue-600` | 信息消息 |

### 深色模式

| 元素 | 颜色 | 用途 |
|------|------|------|
| 成功背景 | `dark:bg-green-900/20` | 配置正常状态 |
| 成功边框 | `dark:border-green-800` | 配置正常状态 |
| 成功文本 | `text-green-600` | 成功消息 |
| 警告背景 | `dark:bg-yellow-900/20` | 未配置状态 |
| 警告边框 | `dark:border-yellow-800` | 未配置状态 |
| 警告文本 | `text-yellow-600` | 警告消息 |
| 错误背景 | `dark:bg-red-900/20` | 错误状态 |
| 错误边框 | `dark:border-red-800` | 错误状态 |
| 错误文本 | `text-red-600` | 错误消息 |
| 信息背景 | `dark:bg-blue-900/20` | 当前激活 |
| 信息边框 | `dark:border-blue-800` | 当前激活 |
| 信息文本 | `text-blue-600` | 信息消息 |

---

## 图标使用

| 图标 | 组件 | 用途 |
|------|------|------|
| `CheckCircleIcon` | ✓ | 成功状态、视觉支持 |
| `XCircleIcon` | ✗ | 错误状态、测试失败 |
| `ExclamationTriangleIcon` | ⚠ | 警告状态 |
| `InformationCircleIcon` | ℹ | 信息提示 |
| `ArrowPathIcon` | ↻ | 同步中、测试中 |
| `BeakerIcon` | 🧪 | 配置测试 |

---

## 响应式布局

### 桌面视图 (≥ 1024px)

```
┌─────────────────────────────────────────────────────────────┐
│                     完整宽度显示                             │
│                  所有信息并排展示                            │
└─────────────────────────────────────────────────────────────┘
```

### 平板视图 (768px - 1023px)

```
┌───────────────────────────────────────┐
│         适中宽度显示                   │
│       部分信息换行展示                 │
└───────────────────────────────────────┘
```

### 移动视图 (< 768px)

```
┌─────────────────────┐
│   紧凑布局           │
│   垂直堆叠           │
│   全宽显示           │
└─────────────────────┘
```

---

## 交互动画

### 按钮悬停

```css
/* 正常状态 */
background: blue-500

/* 悬停状态 */
background: blue-600
transition: 200ms
```

### 提供商展开/折叠

```css
/* 折叠 */
transform: rotate(0deg)
transition: 200ms

/* 展开 */
transform: rotate(180deg)
transition: 200ms
```

### 测试按钮旋转

```css
/* 测试中 */
animation: spin 1s linear infinite
```

---

## 可访问性标识

### ARIA 标签

```html
<!-- 状态图标 -->
<svg aria-label="成功状态" role="img">

<!-- 测试按钮 -->
<button aria-label="测试 AI 配置" aria-busy="false">

<!-- 提供商按钮 -->
<button aria-expanded="false" aria-controls="provider-details">
```

### 键盘导航

| 按键 | 操作 |
|------|------|
| `Tab` | 移动到下一个可聚焦元素 |
| `Shift + Tab` | 移动到上一个可聚焦元素 |
| `Enter` / `Space` | 激活按钮或展开/折叠 |
| `Escape` | 关闭展开的提供商详情 |

---

## 状态转换流程

```
未连接 ──连接成功──> 未配置 ──选择助理──> 同步中 ──同步成功──> 配置正常
   │                    │                    │                    │
   │                    │                    │                    │
   └──重试连接──────────┴──配置错误──────────┴──同步失败──────────┘
```

---

## 最佳实践

### 1. 状态提示

- ✅ 使用清晰的图标和颜色
- ✅ 提供详细的错误描述
- ✅ 显示可操作的建议

### 2. 用户引导

- ✅ 未配置时提示用户操作
- ✅ 显示当前激活的助理
- ✅ 提供配置测试功能

### 3. 信息展示

- ✅ 分层展示信息（概览 → 详情）
- ✅ 使用折叠面板节省空间
- ✅ 高亮当前激活的配置

### 4. 错误处理

- ✅ 区分不同类型的错误
- ✅ 提供恢复建议
- ✅ 显示技术细节（可选）

---

## 示例截图位置

访问演示页面查看实际效果：

```
http://localhost:3000/ai-config-validation
```

---

## 相关文档

- [完整文档](./AI_CONFIG_VALIDATION_UI.md)
- [快速参考](./AI_CONFIG_VALIDATION_QUICK_REFERENCE.md)
- [测试指南](../__tests__/components/AIConfigValidationPanel.test.tsx)
