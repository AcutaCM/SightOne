# 工具提示系统 - 可视化指南

## 概览

本指南通过可视化示例展示工作流组件中的工具提示系统。

## NodeHeader 工具提示

### 1. 节点图标工具提示

```
┌─────────────────────────┐
│ [✈️] 起飞               │  ← 悬停在图标上
└─────────────────────────┘
         ↓
    ┌─────────────────┐
    │ 起飞            │
    │ 点击节点查看    │
    │ 详细信息        │
    └─────────────────┘
```

**特点:**
- 延迟: 800ms
- 位置: 上方
- 内容: 节点名称 + 操作提示

### 2. 错误指示器工具提示

```
┌─────────────────────────────┐
│ [✈️] 起飞  [⚠️]  [3] [⚙️] [∨]│  ← 悬停在警告图标上
└─────────────────────────────┘
              ↓
    ┌──────────────────────┐
    │ ⚠️ 配置错误          │  (红色背景)
    │ 有必填参数未配置     │
    │ 请展开参数列表并     │
    │ 填写所有必填项       │
    └──────────────────────┘
```

**特点:**
- 延迟: 300ms (快速响应)
- 位置: 上方
- 颜色: 红色主题
- 内容: 错误说明 + 解决方法

### 3. 参数徽章工具提示

```
┌─────────────────────────────┐
│ [✈️] 起飞  [3] [⚙️] [∨]     │  ← 悬停在数字徽章上
└─────────────────────────────┘
              ↓
    ┌──────────────────────┐
    │ 3 个参数             │
    │ 点击展开按钮查看     │
    │ 所有参数             │
    └──────────────────────┘
```

**特点:**
- 延迟: 500ms
- 位置: 下方
- 内容: 参数数量 + 操作提示

### 4. 高级设置按钮工具提示

```
┌─────────────────────────────┐
│ [✈️] 起飞  [3] [⚙️] [∨]     │  ← 悬停在齿轮图标上
└─────────────────────────────┘
                   ↓
         ┌──────────────────────┐
         │ 高级设置             │
         │ 配置节点的详细       │
         │ 参数和选项           │
         └──────────────────────┘
```

**特点:**
- 延迟: 500ms
- 位置: 下方
- 内容: 功能说明

### 5. 折叠/展开按钮工具提示

```
┌─────────────────────────────┐
│ [✈️] 起飞  [3] [⚙️] [∨]     │  ← 悬停在箭头上
└─────────────────────────────┘
                       ↓
         ┌──────────────────────┐
         │ 展开参数             │
         │ 显示 3 个参数的      │
         │ 详细配置             │
         │ 快捷键: 空格键       │
         └──────────────────────┘
```

**特点:**
- 延迟: 500ms
- 位置: 下方
- 内容: 状态 + 参数数量 + 快捷键

## ParameterItem 工具提示

### 完整的参数工具提示

```
┌─────────────────────────────────┐
│ 高度 *                          │  ← 悬停在参数上
│ [━━━━━━━━━━━━━━━━━━━━━━━━━━━] │
└─────────────────────────────────┘
              ↓
    ┌────────────────────────────┐
    │ 高度 *                     │  (粗体标题)
    ├────────────────────────────┤
    │ 无人机飞行的目标高度       │  (描述)
    │ 单位为厘米                 │
    ├────────────────────────────┤
    │ 类型: number               │  (元数据)
    │ 默认值: 100                │
    │ ⚠ 此参数为必填项           │  (警告)
    ├────────────────────────────┤
    │ 点击编辑 • Enter保存       │  (操作提示)
    │ Esc取消                    │
    └────────────────────────────┘
```

**特点:**
- 延迟: 500ms
- 位置: 上方
- 最大宽度: 300px
- 内容结构:
  1. 参数名称 + 必填标记
  2. 详细描述
  3. 类型和默认值
  4. 必填警告（如适用）
  5. 键盘快捷键

### 不同参数类型的工具提示

#### 文本参数
```
┌────────────────────────────┐
│ 名称 *                     │
│ 文本输入框的名称           │
│ 类型: string               │
│ 默认值: "Untitled"         │
│ ⚠ 此参数为必填项           │
└────────────────────────────┘
```

#### 数字参数
```
┌────────────────────────────┐
│ 速度                       │
│ 飞行速度（厘米/秒）        │
│ 类型: number               │
│ 默认值: 50                 │
│ 范围: 10-100               │
└────────────────────────────┘
```

#### 选择参数
```
┌────────────────────────────┐
│ 方向                       │
│ 飞行方向选择               │
│ 类型: select               │
│ 选项: 前/后/左/右          │
└────────────────────────────┘
```

## ResizeHandle 工具提示

```
┌─────────────────────────────┐
│                             │
│   节点内容                  │
│                             │
│                        [⋮⋮] │  ← 悬停在右下角手柄上
└─────────────────────────────┘
                          ↓
              ┌──────────────────────┐
              │ 调整节点大小         │
              │ 拖动以调整节点的     │
              │ 宽度和高度           │
              │ 提示: 调整时会显示   │
              │ 实时尺寸             │
              └──────────────────────┘
```

**特点:**
- 延迟: 500ms
- 位置: 左侧（避免遮挡手柄）
- 内容: 功能说明 + 提示

## WorkflowHelp 帮助面板

### 帮助按钮

```
                              ┌────┐
                              │ ?  │  ← 浮动帮助按钮
                              └────┘
                                ↓
                    ┌──────────────────┐
                    │ 帮助             │
                    │ 查看快捷键和     │
                    │ 操作指南         │
                    └──────────────────┘
```

### 帮助面板展开

```
┌─────────────────────────────────────┐
│ ? 工作流帮助                    [×] │
├─────────────────────────────────────┤
│                                     │
│ ⌨️ 键盘快捷键                       │
│ ┌─────────────────────────────────┐ │
│ │ 空格键              [Space]     │ │
│ │ 折叠/展开选中的节点             │ │
│ └─────────────────────────────────┘ │
│ ┌─────────────────────────────────┐ │
│ │ Enter               [Enter]     │ │
│ │ 保存参数编辑                    │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 🖱️ 鼠标操作                         │
│ ┌─────────────────────────────────┐ │
│ │ 点击参数                        │ │
│ │ 进入编辑模式                    │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ⚡ 节点操作                         │
│ ...                                 │
│                                     │
│ ℹ️ 参数编辑                         │
│ ...                                 │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ 💡 提示：将鼠标悬停在任何按钮   │ │
│ │ 或参数上，可以查看详细的工具    │ │
│ │ 提示说明。                      │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

## 工具提示样式变体

### 标准工具提示（灰色）
```
┌────────────────────────────┐
│ 标题                       │  深灰背景 (浅色主题)
│ 描述内容                   │  浅灰背景 (深色主题)
│ 额外信息                   │  白色文字 (浅色主题)
└────────────────────────────┘  深色文字 (深色主题)
```

### 错误工具提示（红色）
```
┌────────────────────────────┐
│ ⚠️ 错误标题                │  深红背景 (浅色主题)
│ 错误描述                   │  浅红背景 (深色主题)
│ 解决方法                   │  白色文字 (浅色主题)
└────────────────────────────┘  深色文字 (深色主题)
```

### 成功工具提示（绿色）
```
┌────────────────────────────┐
│ ✓ 成功标题                 │  深绿背景 (浅色主题)
│ 成功描述                   │  浅绿背景 (深色主题)
│ 后续操作                   │  白色文字 (浅色主题)
└────────────────────────────┘  深色文字 (深色主题)
```

## 工具提示位置示例

### 上方 (top)
```
    ┌──────────────┐
    │ 工具提示     │
    └──────┬───────┘
           │
    ┌──────▼───────┐
    │   按钮       │
    └──────────────┘
```

### 下方 (bottom)
```
    ┌──────────────┐
    │   按钮       │
    └──────┬───────┘
           │
    ┌──────▼───────┐
    │ 工具提示     │
    └──────────────┘
```

### 左侧 (left)
```
┌──────────────┐    ┌──────────────┐
│ 工具提示     │◄───│   按钮       │
└──────────────┘    └──────────────┘
```

### 右侧 (right)
```
┌──────────────┐    ┌──────────────┐
│   按钮       │───►│ 工具提示     │
└──────────────┘    └──────────────┘
```

## 交互流程

### 参数编辑流程
```
1. 悬停参数
   ↓
   显示详细工具提示
   (类型、默认值、描述)
   
2. 点击参数
   ↓
   进入编辑模式
   工具提示消失
   
3. 编辑参数值
   ↓
   显示保存指示器
   
4. 按Enter或失焦
   ↓
   保存参数
   显示成功动画
   
5. 悬停查看新值
   ↓
   工具提示再次显示
```

### 节点折叠流程
```
1. 悬停折叠按钮
   ↓
   显示工具提示
   "展开参数 - 显示3个参数"
   
2. 点击按钮
   ↓
   节点展开
   参数列表显示
   
3. 再次悬停按钮
   ↓
   工具提示更新
   "折叠参数 - 隐藏参数列表"
```

## 响应式行为

### 屏幕边缘自动调整
```
屏幕顶部
┌─────────────────────────────┐
│ [按钮]                      │
│   ↓                         │
│ ┌──────────────┐            │
│ │ 工具提示     │ (向下显示) │
│ └──────────────┘            │
└─────────────────────────────┘

屏幕底部
┌─────────────────────────────┐
│ ┌──────────────┐            │
│ │ 工具提示     │ (向上显示) │
│ └──────────────┘            │
│   ↑                         │
│ [按钮]                      │
└─────────────────────────────┘
```

## 主题适配

### 浅色主题
```
┌────────────────────────────┐
│ 标题 (深色文字)            │  白色/浅灰背景
│ 内容 (中等深度)            │  深灰边框
│ 提示 (浅色文字)            │  柔和阴影
└────────────────────────────┘
```

### 深色主题
```
┌────────────────────────────┐
│ 标题 (浅色文字)            │  深灰/黑色背景
│ 内容 (中等亮度)            │  浅灰边框
│ 提示 (深色文字)            │  强烈阴影
└────────────────────────────┘
```

## 动画效果

### 淡入动画
```
时间轴: 0ms ────────► 200ms

透明度:  0% ────────► 100%
缩放:    90% ───────► 100%
Y偏移:   10px ──────► 0px
```

### 淡出动画
```
时间轴: 0ms ────────► 150ms

透明度:  100% ──────► 0%
缩放:    100% ──────► 90%
Y偏移:   0px ───────► 10px
```

## 最佳实践示例

### ✅ 好的工具提示
```
┌────────────────────────────┐
│ 保存工作流                 │  清晰的标题
│ 将当前工作流保存到本地     │  简洁的描述
│ 快捷键: Ctrl+S             │  有用的快捷键
└────────────────────────────┘
```

### ❌ 不好的工具提示
```
┌────────────────────────────┐
│ 保存                       │  标题太简单
│ 这个按钮用于保存当前的     │  描述太冗长
│ 工作流配置到本地存储中，   │  没有快捷键
│ 以便下次使用时可以加载...  │
└────────────────────────────┘
```

## 调试视图

### 开发模式下的工具提示边界
```
┌─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐
│ ┌────────────────────────┐│
│ │ 工具提示内容           ││  虚线: 边界框
│ │ padding: 4px 8px       ││  实线: 内容区
│ └────────────────────────┘│
└─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘
  maxWidth: 300px
```

## 总结

工具提示系统提供了：
- 🎯 **精确的上下文帮助** - 每个元素都有详细说明
- ⚡ **快速访问** - 合理的延迟时间
- 🎨 **美观的设计** - 符合整体主题
- ♿ **完整的可访问性** - 支持键盘和屏幕阅读器
- 📱 **响应式布局** - 自动适应屏幕大小

通过这些工具提示，用户可以轻松理解和使用工作流系统的所有功能！
