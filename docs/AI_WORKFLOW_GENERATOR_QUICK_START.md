# AI工作流生成器快速入门

## 快速开始

### 1. 打开工作流编辑器

导航到Tello工作流面板。

### 2. 点击AI生成按钮

在右侧控制面板中，点击带有✨图标的"AI生成工作流"按钮。

### 3. 输入任务描述

在弹出的对话框中，用自然语言描述你想要的任务。

**示例**:
- "让无人机起飞，前进100cm，拍照，然后降落"
- "执行8字飞行，然后进行草莓检测"
- "起飞后悬停3秒，扫描QR码，如果检测到则降落，否则继续前进"

### 4. 等待生成

AI会自动：
1. 理解你的需求
2. 生成工作流节点
3. 优化节点布局
4. 验证工作流完整性

### 5. 预览结果

生成完成后，你可以：
- 查看工作流可视化预览
- 查看节点和连接数量
- 决定是否应用到画布

### 6. 应用到画布

点击"应用到画布"按钮，生成的工作流将自动添加到编辑器中。

### 7. 进一步编辑（可选）

你可以：
- 双击节点编辑参数
- 拖拽调整位置
- 添加或删除节点
- 修改连接关系

## 支持的操作类型

### 基础控制
- 起飞、降落、悬停、等待
- 紧急停止

### 移动控制
- 前进、后退、左移、右移
- 上升、下降

### 旋转控制
- 顺时针旋转、逆时针旋转

### 特技动作
- 前翻、后翻、左翻、右翻

### 检测任务
- QR码扫描
- 草莓检测
- YOLO目标检测

### AI分析
- PureChat对话
- AI图像分析
- UniPixel分割

### 逻辑判断
- 条件分支
- IF-ELSE判断
- 循环

### 挑战任务
- 8字飞行
- 穿越障碍
- 精准降落

### 图像采集
- 拍照
- 开始/停止录像

### 数据处理
- 设置/获取变量
- 数据转换
- 数据过滤

## 描述技巧

### ✅ 好的描述

**清晰具体**:
```
"起飞到100cm高度，向前飞行200cm，拍照，然后降落"
```

**包含参数**:
```
"起飞后悬停5秒，然后以50%速度前进150cm"
```

**使用条件**:
```
"扫描QR码，如果检测到则降落，否则继续前进100cm"
```

**包含循环**:
```
"重复3次：前进50cm，拍照，后退50cm"
```

### ❌ 避免的描述

**过于模糊**:
```
"飞一下"  // 不清楚要做什么
```

**缺少关键信息**:
```
"起飞然后拍照"  // 缺少高度、位置等信息
```

**不支持的操作**:
```
"自动避障飞行"  // 超出当前支持范围
```

## 常见问题

### Q: 生成失败怎么办？

**A**: 
1. 检查描述是否清晰
2. 尝试简化任务
3. 点击"重试"按钮
4. 查看错误提示信息

### Q: 生成的工作流不符合预期？

**A**:
1. 点击"重新生成"
2. 修改描述更加具体
3. 应用后手动编辑节点

### Q: 可以生成多复杂的工作流？

**A**:
- 建议单个工作流不超过20个节点
- 复杂任务可以分解为多个子工作流
- 过于复杂会影响生成质量

### Q: 生成的参数可以修改吗？

**A**:
- 可以！应用到画布后双击节点即可编辑
- AI会设置合理的默认值
- 你可以根据实际需求调整

### Q: 支持哪些语言？

**A**:
- 目前主要支持中文
- 英文描述也可以尝试
- 建议使用清晰的中文描述

## 示例场景

### 场景1: 简单巡航

**描述**: "起飞到150cm，前进200cm，右转90度，前进200cm，降落"

**生成结果**:
```
开始 → 起飞(150cm) → 前进(200cm) → 右转(90°) → 前进(200cm) → 降落 → 结束
```

### 场景2: 检测任务

**描述**: "起飞后悬停2秒，进行草莓检测15秒，检测完成后降落"

**生成结果**:
```
开始 → 起飞 → 悬停(2s) → 草莓检测(15s) → 降落 → 结束
```

### 场景3: 条件执行

**描述**: "起飞，扫描QR码，如果检测到QR码则拍照并降落，否则前进100cm后降落"

**生成结果**:
```
开始 → 起飞 → QR扫描 → 条件分支
                        ├─ 检测到 → 拍照 → 降落 → 结束
                        └─ 未检测 → 前进(100cm) → 降落 → 结束
```

### 场景4: 循环任务

**描述**: "起飞，重复3次：前进50cm，拍照，后退50cm，然后降落"

**生成结果**:
```
开始 → 起飞 → 循环(3次)
                ├─ 前进(50cm)
                ├─ 拍照
                └─ 后退(50cm)
      → 降落 → 结束
```

### 场景5: 挑战任务

**描述**: "起飞，执行8字飞行，半径100cm，速度50%，然后降落"

**生成结果**:
```
开始 → 起飞 → 8字飞行(半径100cm, 速度50%) → 降落 → 结束
```

## 高级技巧

### 1. 使用具体数值

```
✅ "前进200cm"
❌ "前进一段距离"
```

### 2. 明确时间参数

```
✅ "悬停5秒"
❌ "悬停一会儿"
```

### 3. 指定检测参数

```
✅ "草莓检测，置信度0.7，超时15秒"
❌ "检测草莓"
```

### 4. 使用逻辑关键词

```
✅ "如果...则...否则..."
✅ "重复N次"
✅ "当...时"
```

### 5. 分步描述

```
✅ "第一步：起飞；第二步：前进；第三步：拍照；第四步：降落"
```

## 性能提示

- 首次生成可能需要5-10秒
- 后续相似请求会更快（缓存）
- 复杂工作流生成时间更长
- 网络状况影响生成速度

## 安全提示

- AI会自动验证参数安全性
- 超出范围的参数会被调整
- 建议在模拟环境中先测试
- 实际飞行前检查所有参数

## 获取帮助

如果遇到问题：
1. 查看错误提示信息
2. 尝试简化描述
3. 参考示例场景
4. 查看完整文档

## 相关文档

- [完整实现文档](./AI_WORKFLOW_GENERATOR_COMPLETE.md)
- [工作流系统文档](./WORKFLOW_NODE_SYSTEM_COMPLETE.md)
- [PureChat集成文档](./PURECHAT_INTEGRATION_COMPLETE.md)

---

**提示**: 多尝试不同的描述方式，AI会不断学习和改进！
