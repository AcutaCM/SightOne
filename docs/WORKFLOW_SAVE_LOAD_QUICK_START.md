# 工作流保存和加载 - 快速开始

## 🚀 5分钟快速上手

### 1. 保存你的第一个工作流

1. **创建工作流**
   - 从左侧节点库拖拽节点到画布
   - 连接节点创建工作流
   - 配置节点参数

2. **保存工作流**
   - 点击右侧控制面板的 **"保存工作流"** 按钮
   - 输入工作流名称（例如："草莓检测流程"）
   - 点击确定

✅ **完成！** 你的工作流已保存到本地

### 2. 加载已保存的工作流

1. **打开管理器**
   - 点击 **"管理工作流"** 按钮

2. **选择工作流**
   - 浏览工作流列表
   - 使用搜索框快速查找
   - 点击工作流卡片查看详情

3. **加载工作流**
   - 点击 **"加载"** 按钮
   - 工作流将显示在画布上

✅ **完成！** 工作流已加载到编辑器

### 3. 导出工作流（备份）

1. **打开管理器**
   - 点击 **"管理工作流"** 按钮

2. **导出文件**
   - 找到要导出的工作流
   - 点击 **"导出"** 按钮
   - JSON文件自动下载

✅ **完成！** 工作流已导出为JSON文件

### 4. 导入工作流（恢复）

1. **打开管理器**
   - 点击 **"管理工作流"** 按钮

2. **选择文件**
   - 点击 **"导入"** 按钮
   - 选择之前导出的JSON文件

3. **确认导入**
   - 查看验证结果
   - 工作流自动添加到列表

✅ **完成！** 工作流已导入

## 💡 实用技巧

### 技巧 1: 使用搜索和过滤

```
搜索框: 输入关键词快速查找
过滤器: 按工作流大小筛选
  - 小型: ≤5个节点
  - 中型: 6-15个节点
  - 大型: >15个节点
排序: 按日期/名称/节点数/连接数排序
```

### 技巧 2: 复制工作流

想要基于现有工作流创建新版本？

1. 在管理器中找到工作流
2. 点击 **"复制"** 按钮
3. 系统自动创建副本
4. 加载副本进行修改

### 技巧 3: 未保存提示

编辑器会自动检测未保存的更改：

- 🟠 **橙色圆点**: 有未保存的更改
- 🟠 **橙色按钮**: 保存按钮变为橙色
- ⚠️ **离开警告**: 关闭页面前会提示

### 技巧 4: 批量管理

**删除多个工作流**:
1. 打开管理器
2. 逐个点击"删除"按钮
3. 确认删除

**导出多个工作流**:
1. 逐个导出为JSON文件
2. 保存到同一文件夹

## 🎯 常见场景

### 场景 1: 每日工作流

**需求**: 每天使用相同的检测流程

**方案**:
1. 创建并保存标准工作流
2. 每天加载该工作流
3. 根据需要微调参数
4. 不保存修改（保持原版）

### 场景 2: 实验性工作流

**需求**: 测试新的工作流配置

**方案**:
1. 复制现有工作流
2. 在副本上进行实验
3. 测试成功后保存
4. 失败则删除副本

### 场景 3: 团队协作

**需求**: 与团队成员分享工作流

**方案**:
1. 导出工作流为JSON文件
2. 通过邮件/云盘分享文件
3. 团队成员导入文件
4. 开始使用

### 场景 4: 版本管理

**需求**: 保留工作流的多个版本

**方案**:
1. 保存工作流时添加版本号
   - 例如: "草莓检测 v1.0"
   - 例如: "草莓检测 v2.0"
2. 使用标签标记版本
3. 定期导出重要版本

## ⚠️ 注意事项

### 1. 浏览器存储限制

- localStorage有大小限制（通常5-10MB）
- 建议定期清理不用的工作流
- 重要工作流请导出备份

### 2. 浏览器数据清除

- 清除浏览器数据会删除所有工作流
- 使用导出功能定期备份
- 考虑使用浏览器的"保留Cookie"选项

### 3. 兼容性

- 不同版本的工作流可能不兼容
- 导入时注意查看验证警告
- 保持系统更新到最新版本

## 🔧 故障排除

### 问题: 找不到保存的工作流

**检查**:
1. 是否在正确的浏览器中
2. 是否清除了浏览器数据
3. 是否使用了隐私/无痕模式

**解决**:
- 从备份文件导入
- 重新创建工作流

### 问题: 导入失败

**检查**:
1. 文件是否完整
2. 文件格式是否正确
3. 查看错误提示

**解决**:
- 使用文本编辑器检查JSON格式
- 确保文件未损坏
- 尝试重新导出原文件

### 问题: 保存按钮无响应

**检查**:
1. 工作流是否为空
2. 浏览器控制台是否有错误
3. localStorage是否已满

**解决**:
- 添加至少一个节点
- 清理旧工作流释放空间
- 刷新页面重试

## 📚 进阶功能

### 历史记录

系统自动记录所有工作流操作：
- 创建
- 更新
- 加载
- 导出
- 导入

**查看历史**:
```typescript
// 开发者工具控制台
const history = getWorkflowHistoryManager();
console.log(history.getRecentHistory(10));
```

### 工作流验证

导入时自动验证：
- ✅ 结构完整性
- ✅ 节点ID唯一性
- ✅ 连接有效性
- ⚠️ 建议检查（start/end节点）

### 存储统计

**查看存储信息**:
```typescript
// 开发者工具控制台
const storage = getWorkflowStorageManager();
console.log(storage.getStorageStats());
```

## 🎓 最佳实践

1. **命名规范**
   - 使用描述性名称
   - 包含版本号
   - 添加日期标记

2. **定期备份**
   - 每周导出重要工作流
   - 保存到云盘或本地文件夹
   - 保留多个版本

3. **使用标签**
   - 按功能分类（检测、分析、控制）
   - 按项目分类
   - 按状态分类（测试、生产）

4. **版本控制**
   - 重大修改前复制
   - 保留稳定版本
   - 记录修改说明

5. **清理维护**
   - 定期删除不用的工作流
   - 合并相似的工作流
   - 更新过时的工作流

## 🆘 获取帮助

- 📖 查看完整文档: `WORKFLOW_SAVE_LOAD_SYSTEM.md`
- 🐛 报告问题: 在GitHub提交Issue
- 💬 讨论交流: 加入社区论坛

---

**祝你使用愉快！** 🎉
