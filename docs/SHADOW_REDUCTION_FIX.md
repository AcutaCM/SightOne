# 阴影减轻修复

## 问题
工作流编辑器的阴影太重，视觉效果不佳，界面看起来很"脏"。

## 解决方案

### 1. 减轻所有阴影强度

#### 浅色主题
- `sm`: `none` (完全移除)
- `md`: `0 1px 3px rgba(0, 0, 0, 0.05)` (从 0.1 降至 0.05)
- `lg`: `0 2px 6px rgba(0, 0, 0, 0.06)` (从 0.1 降至 0.06)
- `xl`: `0 4px 12px rgba(0, 0, 0, 0.08)` (从 0.15 降至 0.08)

#### 暗色主题
- `sm`: `none` (完全移除)
- `md`: `0 1px 3px rgba(0, 0, 0, 0.15)` (从 0.3 降至 0.15)
- `lg`: `0 2px 6px rgba(0, 0, 0, 0.18)` (从 0.3 降至 0.18)
- `xl`: `0 4px 12px rgba(0, 0, 0, 0.22)` (从 0.4 降至 0.22)

### 2. 移除发光效果

将所有 `glow` 阴影改为简单的边框效果：
- `glow`: `none` (完全移除)
- `glowPrimary`: `0 0 0 1px rgba(59, 130, 246, 0.2)` (改为边框)
- `glowSuccess`: `0 0 0 1px rgba(16, 185, 129, 0.2)` (改为边框)
- `glowError`: `0 0 0 1px rgba(239, 68, 68, 0.2)` (改为边框)

### 3. 减轻节点阴影

#### 浅色主题
- 节点阴影: `rgba(0, 0, 0, 0.03)` (从 0.1 降至 0.03)
- 选中发光: `rgba(59, 130, 246, 0.15)` (从 0.3 降至 0.15)

#### 暗色主题
- 节点阴影: `rgba(0, 0, 0, 0.1)` (从 0.3 降至 0.1)
- 选中发光: `rgba(59, 130, 246, 0.2)` (从 0.4 降至 0.2)

## 修改的文件

1. `drone-analyzer-nextjs/lib/workflow/designTokens.ts`
   - 更新了 `lightTokens.shadows`
   - 更新了 `darkTokens.shadows`
   - 更新了节点颜色的阴影值

2. `drone-analyzer-nextjs/styles/workflow-theme.css`
   - 更新了浅色主题的阴影 CSS 变量
   - 更新了暗色主题的阴影 CSS 变量
   - 更新了节点阴影 CSS 变量

## 效果

- ✅ 界面更加清爽干净
- ✅ 减少视觉噪音
- ✅ 保持必要的层次感
- ✅ 提升整体美观度
- ✅ 减少 GPU 渲染负担

## 测试

刷新浏览器查看效果：
1. 节点应该有非常轻微的阴影或无阴影
2. 面板和工具栏的阴影应该几乎不可见
3. 选中状态使用边框而不是发光效果
4. 整体界面更加扁平和现代

## 注意事项

如果需要进一步调整阴影，可以修改：
- `designTokens.ts` 中的 `shadows` 对象
- `workflow-theme.css` 中的 `--wf-shadow-*` 变量

建议保持阴影透明度在 0.02-0.08 之间（浅色主题）和 0.1-0.22 之间（暗色主题）。
