# 源代码文档说明

## 📚 已生成的文档

### 1. CORE_SOURCE_CODE.md
**核心源代码汇总文档**

- **文件数量:** 846 个
- **文件大小:** ~9 MB
- **代码行数:** ~247,000 行
- **包含内容:**
  - `app/` - Next.js 应用页面
  - `components/` - React 组件
  - `contexts/` - React Context
  - `hooks/` - 自定义 Hooks
  - `lib/` - 工具库和业务逻辑
  - `python/` - Python 后端代码
  - `styles/` - 样式文件
  - `types/` - TypeScript 类型定义
  - `config/` - 配置文件

- **排除内容:**
  - 测试文件 (test_*, *.test.*, *.spec.*)
  - 文档文件 (*.md)
  - 备份文件
  - node_modules
  - .venv
  - 构建输出目录

## 🔧 生成脚本

### scripts/generate-core-source-doc.ps1
用于生成核心源代码文档的 PowerShell 脚本。

**使用方法:**
```powershell
.\drone-analyzer-nextjs\scripts\generate-core-source-doc.ps1
```

**功能:**
- 自动扫描指定目录的源代码文件
- 按目录分组并生成目录索引
- 为每个文件添加语法高亮的代码块
- 显示处理进度
- 输出文件大小统计

### scripts/generate-source-doc.ps1
用于生成完整源代码文档的脚本（包含所有文件类型）。

## 📖 文档结构

生成的文档包含以下部分：

1. **文档头部**
   - 生成时间
   - 文件总数
   - 说明信息

2. **目录索引**
   - 按目录分组
   - 每个文件的快速链接
   - 文件数量统计

3. **源代码内容**
   - 每个文件的完整路径
   - 带语法高亮的代码块
   - 文件读取错误提示

## 🎯 使用场景

1. **代码审查** - 快速浏览整个项目的代码结构
2. **文档归档** - 保存项目某个时间点的完整代码快照
3. **AI 分析** - 将整个项目代码提供给 AI 进行分析
4. **知识传递** - 帮助新团队成员了解项目结构
5. **代码搜索** - 在单个文档中搜索特定代码片段

## 📝 注意事项

1. **文件大小** - 生成的文档可能很大（数 MB），建议使用支持大文件的编辑器打开
2. **更新频率** - 代码变更后需要重新运行脚本生成最新文档
3. **版本控制** - 建议将生成的文档添加到 .gitignore，避免提交到版本库
4. **编码格式** - 文档使用 UTF-8 编码，确保编辑器正确识别

## 🔄 自定义生成

如需自定义生成内容，可以修改脚本中的以下参数：

```powershell
# 包含的目录
$includeDirs = @('app', 'components', 'contexts', ...)

# 文件扩展名
$codeExtensions = @('.ts', '.tsx', '.js', '.jsx', '.py', '.css', '.scss')

# 排除模式
$isExcluded = $path -match '(test_|\.test\.|\.spec\.|backup)'
```

## 📊 统计信息

当前项目代码统计（核心源代码）：

| 类别 | 数量 |
|------|------|
| TypeScript/TSX 文件 | ~400 |
| JavaScript/JSX 文件 | ~50 |
| Python 文件 | ~80 |
| CSS/SCSS 文件 | ~20 |
| 配置文件 | ~10 |
| 总代码行数 | ~247,000 |

---

**最后更新:** 2025-10-21
