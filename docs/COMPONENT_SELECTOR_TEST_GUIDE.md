# 组件选择器测试指南

## 🎯 测试目标

验证组件选择器的主题适配和工作流组件显示功能。

## 📋 测试步骤

### 1. 启动应用

```bash
cd drone-analyzer-nextjs
npm run dev
```

### 2. 打开组件选择器

1. 访问主页 `http://localhost:3000`
2. 点击右下角的 **"+"** 按钮或组件选择器按钮
3. 组件选择器弹窗应该出现

### 3. 测试主题切换

#### 亮色主题测试
1. 确保当前是亮色主题
2. 检查组件选择器：
   - ✅ 背景应该是浅色
   - ✅ 文本应该是深色
   - ✅ 按钮颜色清晰可见
   - ✅ 卡片边框明显

#### 暗色主题测试
1. 切换到暗色主题（点击顶部导航栏的主题切换按钮）
2. 重新打开组件选择器
3. 检查组件选择器：
   - ✅ 背景应该是深色
   - ✅ 文本应该是浅色
   - ✅ 按钮颜色清晰可见
   - ✅ 卡片边框明显

#### 主题切换动画
1. 保持组件选择器打开
2. 切换主题
3. 检查：
   - ✅ 颜色平滑过渡
   - ✅ 没有闪烁
   - ✅ 所有元素正确更新

### 4. 测试工作流组件

1. 在组件选择器中查找 **"Tello工作流面板"**
2. 检查：
   - ✅ 组件正常显示
   - ✅ 图标正确渲染
   - ✅ 描述文字完整
   - ✅ 分类标签显示为 "控制"

### 5. 测试分类筛选

1. 点击 **"全部"** 按钮
   - ✅ 显示所有组件（包括工作流面板）

2. 点击 **"控制"** 按钮
   - ✅ 只显示控制类组件
   - ✅ 工作流面板应该在列表中

3. 点击 **"分析"** 按钮
   - ✅ 只显示分析类组件
   - ✅ 工作流面板不应该在列表中

4. 点击 **"AI"** 按钮
   - ✅ 显示 AI 类组件
   - ✅ Tello 智能代理应该在列表中

### 6. 测试交互效果

#### 悬停效果
1. 将鼠标悬停在任意组件卡片上
2. 检查：
   - ✅ 卡片轻微放大
   - ✅ 聚光灯效果出现
   - ✅ 边框发光
   - ✅ 粒子动画播放
   - ✅ 颜色跟随主题

#### 点击效果
1. 点击任意组件卡片
2. 检查：
   - ✅ 波纹效果扩散
   - ✅ 选中标记出现
   - ✅ 卡片背景变化
   - ✅ 颜色跟随主题

#### 选中状态
1. 选择多个组件
2. 检查：
   - ✅ 选中的卡片有特殊样式
   - ✅ 右上角显示勾选图标
   - ✅ 底部显示选中数量
   - ✅ 颜色跟随主题

### 7. 测试按钮

#### 分类按钮
1. 点击不同的分类按钮
2. 检查：
   - ✅ 选中状态高亮
   - ✅ 颜色跟随主题
   - ✅ 文字清晰可读

#### 操作按钮
1. 点击 **"取消"** 按钮
   - ✅ 弹窗关闭
   - ✅ 选择状态保留

2. 点击 **"完成"** 按钮
   - ✅ 弹窗关闭
   - ✅ 组件添加到布局

## 🐛 常见问题排查

### 问题 1: 组件选择器颜色不变
**症状:** 切换主题后，组件选择器颜色没有变化

**解决方案:**
1. 检查浏览器控制台是否有错误
2. 清除浏览器缓存
3. 重启开发服务器

### 问题 2: 工作流组件不显示
**症状:** 在组件列表中找不到工作流面板

**解决方案:**
1. 检查 `ComponentSelector.tsx` 中是否有语法错误
2. 确认组件定义中没有多余的 `},`
3. 重启开发服务器

### 问题 3: 特效颜色不对
**症状:** 悬停或点击时的特效颜色不跟随主题

**解决方案:**
1. 检查是否使用了 `hsl(var(--heroui-primary))` 变量
2. 确认 Tailwind 配置正确
3. 清除构建缓存：`rm -rf .next`

## ✅ 测试检查表

### 主题适配
- [ ] 亮色主题显示正常
- [ ] 暗色主题显示正常
- [ ] 主题切换平滑
- [ ] 所有文本可读
- [ ] 所有按钮可见
- [ ] 边框清晰

### 工作流组件
- [ ] 组件正常显示
- [ ] 图标正确
- [ ] 描述完整
- [ ] 分类正确
- [ ] 可以选择

### 交互效果
- [ ] 悬停效果正常
- [ ] 点击效果正常
- [ ] 选中状态正确
- [ ] 动画流畅
- [ ] 颜色跟随主题

### 功能测试
- [ ] 分类筛选工作
- [ ] 搜索功能正常（如果有）
- [ ] 选择/取消选择正常
- [ ] 关闭弹窗正常
- [ ] 添加组件成功

## 📊 测试结果记录

| 测试项 | 亮色主题 | 暗色主题 | 备注 |
|--------|---------|---------|------|
| 背景颜色 | ⬜ | ⬜ | |
| 文本颜色 | ⬜ | ⬜ | |
| 按钮颜色 | ⬜ | ⬜ | |
| 卡片样式 | ⬜ | ⬜ | |
| 悬停效果 | ⬜ | ⬜ | |
| 点击效果 | ⬜ | ⬜ | |
| 工作流组件 | ⬜ | ⬜ | |
| 分类筛选 | ⬜ | ⬜ | |

## 🎥 测试视频

建议录制以下场景的测试视频：

1. **主题切换演示** (30秒)
   - 打开组件选择器
   - 切换亮色/暗色主题
   - 展示颜色变化

2. **工作流组件演示** (20秒)
   - 筛选控制类组件
   - 找到工作流面板
   - 选择并添加

3. **交互效果演示** (30秒)
   - 悬停效果
   - 点击效果
   - 选中状态

## 📝 测试报告模板

```markdown
## 测试报告

**测试日期:** YYYY-MM-DD
**测试人员:** [姓名]
**浏览器:** [Chrome/Firefox/Safari] [版本]

### 测试结果
- 主题适配: ✅/❌
- 工作流组件: ✅/❌
- 交互效果: ✅/❌

### 发现的问题
1. [问题描述]
2. [问题描述]

### 建议
1. [改进建议]
2. [改进建议]
```

---

**文档版本:** v1.0  
**最后更新:** 2025-10-21  
**维护者:** Kiro AI Assistant
