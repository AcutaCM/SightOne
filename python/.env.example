# ============================================================================
# SIGHT ONE (瞰析 ONE) - Environment Configuration Template
# Copy this file to .env and fill in your values
# ============================================================================

# ----------------------------------------------------------------------------
# AI Service API Keys
# ----------------------------------------------------------------------------

# OpenAI Configuration
OPENAI_API_KEY=sk-...
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_MODEL=gpt-4-vision-preview

# Azure OpenAI (Optional)
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
AZURE_OPENAI_API_VERSION=2024-02-01
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4-vision

# Anthropic Claude
ANTHROPIC_API_KEY=sk-ant-...
ANTHROPIC_MODEL=claude-3-opus-20240229

# Google Gemini
GOOGLE_API_KEY=AIza...
GOOGLE_MODEL=gemini-pro-vision

# Alibaba DashScope (Optional)
DASHSCOPE_API_KEY=sk-...
DASHSCOPE_MODEL=qwen-vl-plus

# ----------------------------------------------------------------------------
# Service Configuration
# ----------------------------------------------------------------------------

# Unipixel Service (WSL/Remote)
UNIPIXEL_ENDPOINT=http://localhost:8000
UNIPIXEL_TIMEOUT=30
UNIPIXEL_MAX_RETRIES=3

# WebSocket Server
WEBSOCKET_HOST=0.0.0.0
WEBSOCKET_PORT=8765
WEBSOCKET_MAX_CONNECTIONS=10

# HTTP Bridge (Optional)
BRIDGE_ENDPOINT=http://localhost:3000/api/bridge
BRIDGE_TIMEOUT=10

# ----------------------------------------------------------------------------
# Detection & Analysis
# ----------------------------------------------------------------------------

# YOLO Configuration
YOLO_MODEL_PATH=./models/yolov8n.pt
YOLO_CONFIDENCE=0.25
YOLO_IOU_THRESHOLD=0.45
YOLO_MAX_DETECTIONS=300
YOLO_DEVICE=cuda  # cuda, cpu, or mps (Apple Silicon)

# QR Code Detection
QR_ENABLE_PYZBAR=true
QR_ENABLE_WECHAT=true
QR_MIN_CONFIDENCE=0.5

# Strawberry Maturity Analysis
MATURITY_MODEL_PATH=./models/strawberry_maturity.pt
MATURITY_CLASSES=unripe,ripe,overripe

# ----------------------------------------------------------------------------
# Diagnosis Workflow
# ----------------------------------------------------------------------------

# Diagnosis Settings
DIAGNOSIS_ENABLED=false
DIAGNOSIS_COOLDOWN=30  # seconds
DIAGNOSIS_AUTO_TRIGGER=false
DIAGNOSIS_SAVE_IMAGES=true
DIAGNOSIS_OUTPUT_DIR=./diagnosis_data

# AI Diagnosis
AI_MASK_PROMPT_ENABLED=true
AI_DIAGNOSIS_TEMPERATURE=0.7
AI_DIAGNOSIS_MAX_TOKENS=2000

# ----------------------------------------------------------------------------
# Drone Control
# ----------------------------------------------------------------------------

# Tello Drone
TELLO_ENABLED=false
TELLO_STREAM_ON=true
TELLO_VIDEO_PORT=11111
TELLO_CMD_PORT=8889
TELLO_STATE_PORT=8890
TELLO_DEFAULT_SPEED=50

# Challenge Mode
CHALLENGE_MODE_ENABLED=false
CHALLENGE_TIMEOUT=300  # seconds
CHALLENGE_CRUISE_SPEED=30

# ----------------------------------------------------------------------------
# Logging & Monitoring
# ----------------------------------------------------------------------------

# Log Configuration
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json, text
LOG_FILE=./logs/sight_one.log
LOG_MAX_SIZE=10485760  # 10MB
LOG_BACKUP_COUNT=5

# Console Output
LOG_CONSOLE_ENABLED=true
LOG_CONSOLE_COLOR=true

# Performance Monitoring
MONITOR_ENABLED=true
MONITOR_INTERVAL=5  # seconds
MONITOR_METRICS=cpu,memory,fps,latency

# ----------------------------------------------------------------------------
# Storage & Cache
# ----------------------------------------------------------------------------

# File Storage
STORAGE_BASE_DIR=./storage
STORAGE_MAX_SIZE=10737418240  # 10GB
STORAGE_AUTO_CLEANUP=true

# Image Cache
IMAGE_CACHE_ENABLED=true
IMAGE_CACHE_MAX_SIZE=1073741824  # 1GB
IMAGE_CACHE_TTL=3600  # seconds

# Result Cache
RESULT_CACHE_ENABLED=true
RESULT_CACHE_TTL=300  # seconds

# ----------------------------------------------------------------------------
# Database (Optional - Future Use)
# ----------------------------------------------------------------------------

# SQLite (Default)
# DATABASE_URL=sqlite:///./sight_one.db

# PostgreSQL (Production)
# DATABASE_URL=postgresql://user:password@localhost:5432/sight_one

# Redis (Caching)
# REDIS_URL=redis://localhost:6379/0
# REDIS_PASSWORD=

# ----------------------------------------------------------------------------
# Security
# ----------------------------------------------------------------------------

# API Authentication
API_KEY_ENABLED=false
API_KEY=your-secret-api-key-here
API_KEY_HEADER=X-API-Key

# CORS Settings
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_ALLOW_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_ENABLED=false
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60  # seconds

# ----------------------------------------------------------------------------
# Development & Debug
# ----------------------------------------------------------------------------

# Debug Mode
DEBUG=false
DEBUG_VERBOSE=false
DEBUG_SAVE_FRAMES=false
DEBUG_FRAME_DIR=./debug_frames

# Testing
TEST_MODE=false
TEST_MOCK_DRONE=false
TEST_MOCK_AI=false

# Performance
ASYNC_WORKERS=4
THREAD_POOL_SIZE=8
MAX_QUEUE_SIZE=100

# ----------------------------------------------------------------------------
# System
# ----------------------------------------------------------------------------

# Timezone
TZ=Asia/Shanghai

# Language
LANGUAGE=zh_CN  # zh_CN, en_US

# Platform
PLATFORM=auto  # auto, windows, linux, macos

# Python Path (Optional)
# PYTHONPATH=/path/to/additional/modules

# ----------------------------------------------------------------------------
# Advanced Features (Experimental)
# ----------------------------------------------------------------------------

# Multi-Camera Support
MULTI_CAMERA_ENABLED=false
CAMERA_COUNT=1

# Video Recording
VIDEO_RECORDING_ENABLED=false
VIDEO_OUTPUT_DIR=./recordings
VIDEO_CODEC=mp4v
VIDEO_FPS=30

# Cloud Sync (Future)
# CLOUD_SYNC_ENABLED=false
# CLOUD_PROVIDER=aws  # aws, azure, aliyun
# CLOUD_BUCKET=sight-one-data

# ============================================================================
# NOTES:
# ============================================================================
# 1. DO NOT commit .env file to version control
# 2. Keep API keys secure and rotate them regularly
# 3. Use environment-specific .env files (.env.dev, .env.prod)
# 4. Boolean values: true/false (case-insensitive)
# 5. Numeric values: integers or floats without quotes
# 6. String values: can be quoted or unquoted
# ============================================================================
